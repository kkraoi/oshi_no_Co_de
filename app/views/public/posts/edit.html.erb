<% content_for :title, "投稿｜#{@post.title}の編集ページ" %>
<% content_for :head do %>
  <%= stylesheet_link_tag 'public/posts', media: 'all' %>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.css" integrity="sha512-uf06llspW44/LZpHzHT6qBOIVODjWtv4MxCricRxkzvopAlSWnTf6hpZTFxuuZcuNE9CBQhqE0Seu1CoRk84nQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.js" integrity="sha512-8RnEqURPUc5aqFEN04aQEiPlSAdE0jlFS/9iGgUyNtwFnSKCXhmB6ZTNl7LnDtDWKabJIASzXrzD0K+LYexU9g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<% end %>
<% content_for :foot do %>
<% end %>
<% content_for :body_class, "js-posts-new" %>

<%= form_with model:@post, url: post_path(@post), method: :patch, local: true do |f| %>
<div class="u-col2" id="js-col2-root">
  <div class="u-col2-main">
    <div class="u-col2-main-inner">
      <h1 class="u-title u-pt-50"><%= @post.title %><br>の編集ページ</h1>

      <%= render 'form_fields', f: f, post: @post %>

      <div class="u-pb-80">
        <div class="u-inner-4">
          <p class="u-ta-r">
            <%= link_to post_path(@post.id), method: :delete, class: 'u-link type-1', data: { confirm: "投稿を復元することはできませんが、本当に削除しますか？" } do %>
              投稿を削除する <i class="fa-solid fa-trash"></i>
            <% end %>
          </p>
        </div>
      </div>
    </div>
  </div>

  <aside class="u-col2-side">
    <%= render 'shared/col2_drawer' %>

    <div class="u-col2-side-content">
      <div class="u-col2-side-inner">
        <div class="u-side">
          <div class="u-side-body">
            <%= render 'form_sidemenu' %>
          </div>
          <div class="u-side-foot">
            <%= f.submit "編集内容を保存", class: "u-btn opt-size-full" %>
          </div>
        </div>
      </div>
    </div>
  </aside>
</div>
<% end %>